<div
  class="flex min-h-screen items-center justify-center bg-surface-container-lowest px-4 py-12 sm:px-6 lg:px-8"
>
  <div class="w-full max-w-md space-y-8">
    <!-- Success Message -->
    @if (emailSent()) {
      <!-- Success Icon -->
      <div
        class="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-success-container"
      >
        <mat-icon class="text-2xl text-on-success-container">check_circle</mat-icon>
      </div>

      <!-- Success Header -->
      <div class="text-center">
        <h1 class="text-3xl font-bold tracking-tight text-on-surface">Confirmation email sent</h1>
        <p class="mt-2 text-sm text-on-surface-variant">
          We've sent another confirmation email to {{ userEmail() }}. Please check your inbox and
          follow the instructions.
        </p>
      </div>

      <!-- Back to Sign In -->
      <button
        matButton="filled"
        type="button"
        class="w-full"
        (click)="goToSignIn()"
        color="primary"
      >
        <mat-icon class="mr-2">login</mat-icon>
        Go to sign in
      </button>
    }

    <!-- Main Confirmation Message -->
    @else {
      <!-- Icon -->
      <div
        class="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-primary-container"
      >
        <mat-icon class="text-2xl text-on-primary-container">mail</mat-icon>
      </div>

      <!-- Header -->
      <div class="text-center">
        <h1 class="text-3xl font-bold tracking-tight text-on-surface">Check your email</h1>
        <p class="mt-2 text-sm text-on-surface-variant">
          We've sent a confirmation link to {{ userEmail() || 'your email address' }}.
        </p>
      </div>

      <!-- Instructions -->
      <div class="rounded-lg bg-surface-container p-6 text-center">
        <p class="text-sm text-on-surface-variant mb-4">
          Click the confirmation link in the email to activate your account. The link will expire in
          24 hours.
        </p>

        <!-- Resend Button -->
        @if (canResend()) {
          <button matButton="outlined" type="button" (click)="resendConfirmation()" color="primary">
            <mat-icon class="mr-2">refresh</mat-icon>
            Resend confirmation email
          </button>
        }

        <!-- Resending State -->
        @if (isResending()) {
          <button matButton="outlined" type="button" disabled color="primary">
            <mat-spinner diameter="16" class="mr-2"></mat-spinner>
            Sending email...
          </button>
        }
      </div>

      <!-- Help Text -->
      <div class="text-center space-y-2">
        <p class="text-xs text-on-surface-variant">
          Didn't receive the email? Check your spam folder or try resending.
        </p>
        <p class="text-xs text-on-surface-variant">
          Wrong email address?
          <a href="/sign-up" class="text-primary hover:text-primary-container underline">
            Sign up again
          </a>
        </p>
      </div>

      <!-- Back to Sign In -->
      <button
        matButton="filled"
        type="button"
        class="w-full"
        (click)="goToSignIn()"
        color="primary"
      >
        <mat-icon class="mr-2">arrow_back</mat-icon>
        Back to sign in
      </button>
    }
  </div>
</div>
